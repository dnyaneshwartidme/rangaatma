{% extends 'ms_admin/base.html' %} {% block title %}Why Rangaatma{% endblock %}
{% block content %}
<h4 class="text-primary mb-4">Why Rangaatma</h4>

{% for item in data %}
<div class="card bg-warning-subtle border-warning mb-3">
  <div class="card-body d-flex justify-content-between align-items-start">
    <div>
      <h5 class="card-title">{{ item.title }}</h5>
      <p class="card-text">{{ item.description }}</p>
    </div>
    <button
      class="btn btn-sm btn-warning"
      data-bs-toggle="modal"
      data-bs-target="#editModal{{ item.id }}"
    >
      <i class="bi bi-pencil-square"></i>
    </button>
  </div>
</div>

<!-- Edit Modal for each row -->
<div
  class="modal fade"
  id="editModal{{ item.id }}"
  tabindex="-1"
  aria-labelledby="editModalLabel{{ item.id }}"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <form
      method="POST"
      action="{{ url_for('edit_why_rangaatma', id=item.id) }}"
    >
      <div class="modal-content">
        <div class="modal-header bg-warning">
          <h5 class="modal-title" id="editModalLabel{{ item.id }}">Edit</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
          ></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Title</label>
            <input
              type="text"
              class="form-control"
              name="title"
              value="{{ item.title }}"
              required
            />
          </div>
          <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea class="form-control" name="description" rows="5" required>
{{ item.description }}</textarea
            >
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-warning">Save Changes</button>
        </div>
      </div>
    </form>
  </div>
</div>
{% endfor %} {% endblock %}
